server:
  port: 5092

spring:
  application:
    name: gateway
  profiles:
    active: DEV
  config:
    import:
      # 公共配置
      - optional:nacos:public-${spring.profiles.active}.yaml?refreshEnabled=true
      # JWT 配置
      - optional:nacos:jwt-${spring.profiles.active}.yaml?refreshEnabled=true
      # 服务专属配置
      - optional:nacos:${spring.application.name}-${spring.profiles.active}.yaml?refreshEnabled=true
  cloud:
    nacos:
      server-addr: 111.229.150.28:8848
      username: nacos
      password: nacos
      config:
        namespace: ${spring.profiles.active}
        group: DEFAULT_GROUP
        file-extension: yaml
      discovery:
        namespace: ${spring.profiles.active}
        group: DEFAULT_GROUP
    gateway:
      discovery:
        locator:
          enabled: false
      default-filters: []
      routes:
        - id: usercenter-route
          uri: lb://usercenter
          predicates:
            - Path=/usercenter/**
        
        - id: base-route
          uri: lb://base
          predicates:
            - Path=/base/**

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics  # 可以加上metrics查看指标
  endpoint:
    health:
      show-details: always  # 显示详细健康信息
      show-components: always  # 显示组件状态
    metrics:
      enabled: true

# Info端点信息配置
info:
  app:
    name: "网关服务"
    version: "1.0.0"
    description: "业务中台API网关"
  build:
    artifact: "mms-gateway-bc"
    version: "1.0.0"
  environment: ${spring.profiles.active:default}
  contact:
    team: "架构组"
    email: "2722562862@qq.com"
  features:
    - "服务路由"
    - "负载均衡"
    - "服务发现"
    - "配置管理"

